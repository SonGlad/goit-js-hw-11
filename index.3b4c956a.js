!function(){var e,t,n,a,i=document.querySelector(".search"),r=i.children[0],o=i.children[1],c=i.children[2],l=i.children[3],s=i.children[4],u=!1,d=!0,v=new TimelineLite,f=new TimelineLite({onReverseComplete:function(){v.clear(),u=!1}});function m(e,t,n){for(var a=[],i=e.length;i--;)a.unshift("<span class='".concat(n,"'>").concat(e[i],"</span>"));t.innerHTML=a.join("")}function p(e){m(e,n,"cloned-text"),t=document.querySelectorAll(".cloned-text"),function(e){var t=n.scrollWidth,i=t-n.offsetWidth,r=new TimelineLite({onComplete:function(){a.remove()}});r.staggerTo(e,.08,{opacity:0},.04);var o=r.totalDuration(),c=i*o/t;i>0&&TweenLite.fromTo(n,c,{x:-i},{x:0,delay:.2,ease:SlowMo.ease.config(.1,.1,!1)});setTimeout((function(){f.reverse()}),Math.max(1e3*(o-.35),0))}(Array.from(t).reverse())}function h(){u=!0,f.restart().to(l,.4,{scaleX:2,x:-25,y:-25,ease:Sine.easeIn}).to(c,.4,{rotationX:90,ease:Sine.easeIn},"-=.4").to(l,.4,{rotation:180,x:"-=6",y:"+=10",ease:Power2.easeInOut}).set(l,{transformOrigin:"0",marginRight:"-38px"}).to(l,.6,{scaleX:13,ease:Power1.easeOut}).set(i,{className:"+=edge",onComplete:g}).to(r,.6,{scaleX:1,ease:Sine.easeInOut},"-=.3").set(s,{className:"+=visible"}).addPause()}function g(){new TimelineLite({onStart:function(){r.disabled=!0}}).staggerTo(e,.07,{opacity:1},.035),setTimeout((function(){r.disabled=!1,d=!1}),300)}function y(){(a=document.createElement("div")).className="search-label",i.appendChild(a),n=document.createElement("div"),a.appendChild(n)}m("Search images...",o,"search-text"),e=document.querySelectorAll(".search-text"),i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),r.focus(),u||h()})),c.addEventListener("click",(function(e){e.preventDefault(),u||h()})),l.addEventListener("click",(function(e){e.preventDefault(),u||h()})),r.addEventListener("focus",(function(){d||r.value.trim().length||(v.isActive()?v.play():v.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035))})),r.addEventListener("blur",(function(){d||r.value.trim().length||v.reverse().timeScale(1.3)})),i.addEventListener("submit",(function(e){e.preventDefault(),d=!0,v.paused()?v.clear():v.play();var t=r.value.trim();r.disabled=!0,t.length?(y(),p(t)):f.reverse(),r.value="",r.blur()})),s.addEventListener("mousedown",(function(e){e.preventDefault()})),s.addEventListener("click",(function(){if(!d){d=!0;var t=r.value.trim();r.disabled=!0,t.length?(y(),p(t)):(v.isActive()?v.play():1==v.progress()?v.clear():v.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035),f.reverse()),r.value="",r.blur()}}))}();
//# sourceMappingURL=index.3b4c956a.js.map
