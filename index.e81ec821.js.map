{"mappings":"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","sources":["src/js/search.js"],"sourcesContent":["let search = document.querySelector('.search');\nlet searchInp = search.children[0];\nlet searchLbl = search.children[1];\nlet searchBtn = search.children[2];\nlet searchBrd = search.children[3];\nlet searchCls = search.children[4];\nlet searchTxt, clonedTxt, clonedLbl, clonedLblWrap, animating = false, busy = true;\nlet TLTxt = new TimelineLite();\nlet TLSrch = new TimelineLite({onReverseComplete: () => {\n  TLTxt.clear();\n  animating = false;\n}});\n\ncreateTxt('Search images...', searchLbl, 'search-text');\nsearchTxt = document.querySelectorAll('.search-text');\n\nsearchBtn.addEventListener('click', () => {\n  if (!animating) animSearch();\n});\n\nsearchBrd.addEventListener('click', () => {\n  if (!animating) animSearch();\n});\n\nsearchInp.addEventListener('focus', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.isActive() ? TLTxt.play() : TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035); \n});\n\nsearchInp.addEventListener('blur', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.reverse().timeScale(1.3);\n});\n\nsearch.addEventListener('submit', e => {\n  e.preventDefault();\n  busy = true;\n  TLTxt.paused() ? TLTxt.clear() : TLTxt.play();\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  }\n  else TLSrch.reverse();\n  searchInp.value = '';\n  searchInp.blur();\n});\n\nsearchCls.addEventListener('mousedown', e => {\n  e.preventDefault();\n});\n\nsearchCls.addEventListener('click', () => {\n  if (busy) return;\n  busy = true;\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  }\n  else {\n    TLTxt.isActive() ? TLTxt.play() : TLTxt.progress() == 1 ? TLTxt.clear() :\n      TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035);\n    TLSrch.reverse();\n  }\n  searchInp.value = '';\n  searchInp.blur();\n});\n\nfunction createTxt(text, elLbl, textClass) {\n  let splitText = [];\n  for (let i = text.length; i--;) {\n    splitText.unshift(`<span class='${textClass}'>${text[i]}</span>`);\n  }\n  elLbl.innerHTML = splitText.join('');\n};\n\nfunction createLblTxt(val) {\n  createTxt(val, clonedLbl, 'cloned-text');\n  clonedTxt = document.querySelectorAll('.cloned-text');\n  animClonedTxt(Array.from(clonedTxt).reverse());\n}\n\nfunction animSearch() {\n  animating = true;\n  TLSrch.restart()\n  .to(searchBrd, .4, {scaleX: 2, x: -25, y: -25, ease: Sine.easeIn})\n  .to(searchBtn, .4, {rotationX: 90, ease: Sine.easeIn}, '-=.4')\n  .to(searchBrd, .4, {rotation: 180, x: '-=6', y: '+=10', ease: Power2.easeInOut})\n  .set(searchBrd, {transformOrigin: '0', marginRight: '-38px'}) \n  .to(searchBrd, .6, {scaleX: 13, ease: Power1.easeOut})\n  .set(search, {className: '+=edge', onComplete: showTxt})\n  .to(searchInp, .6, {scaleX: 1, ease: Sine.easeInOut}, '-=.3')\n  .set(searchCls, {className: '+=visible'})\n  .addPause();\n}\n\nfunction showTxt() {\n  let tl = new TimelineLite({onStart: () => {searchInp.disabled = true}});\n  tl.staggerTo(searchTxt, .07, {opacity: 1}, .035);\n  setTimeout(() => {\n    searchInp.disabled = false;\n    busy = false;\n  }, 300)\n}\n\nfunction animClonedTxt(el) {\n  let scrollW = clonedLbl.scrollWidth;\n  let offsetW = scrollW - clonedLbl.offsetWidth;\n  let tl = new TimelineLite({onComplete: () => {clonedLblWrap.remove()}});\n  tl.staggerTo(el, .08, {opacity: 0}, .04);\n  let tlDur = tl.totalDuration();\n  let offsetTime = (offsetW * tlDur) / scrollW;\n  if (offsetW > 0) {\n    TweenLite.fromTo(clonedLbl, offsetTime, {x: -offsetW}, {x: 0, delay: .2, ease: SlowMo.ease.config(0.1, 0.1, false)});\n  };\n  setTimeout(() => {\n    TLSrch.reverse();\n  }, Math.max((tlDur - .35) * 1000, 0));\n}\n\nfunction cloneLbl() {\n  clonedLblWrap = document.createElement('div');\n  clonedLblWrap.className = 'search-label';\n  search.appendChild(clonedLblWrap);\n  clonedLbl = document.createElement('div');\n  clonedLblWrap.appendChild(clonedLbl);\n}; "],"names":["$b18fd23e9761f35d$var$searchTxt","$b18fd23e9761f35d$var$clonedTxt","$b18fd23e9761f35d$var$clonedLbl","$b18fd23e9761f35d$var$clonedLblWrap","$b18fd23e9761f35d$var$search","document","querySelector","$b18fd23e9761f35d$var$searchInp","children","$b18fd23e9761f35d$var$searchLbl","$b18fd23e9761f35d$var$searchBtn","$b18fd23e9761f35d$var$searchBrd","$b18fd23e9761f35d$var$searchCls","$b18fd23e9761f35d$var$animating","$b18fd23e9761f35d$var$busy","$b18fd23e9761f35d$var$TLTxt","TimelineLite","$b18fd23e9761f35d$var$TLSrch","onReverseComplete","clear","$b18fd23e9761f35d$var$createTxt","text","elLbl","textClass","splitText","i","length","unshift","innerHTML","join","$b18fd23e9761f35d$var$createLblTxt","val","querySelectorAll","el","scrollW","scrollWidth","offsetW","offsetWidth","tl","onComplete","remove","staggerTo","opacity","tlDur","totalDuration","offsetTime","TweenLite","fromTo","x","delay","ease","SlowMo","config","setTimeout","reverse","Math","max","$b18fd23e9761f35d$var$animClonedTxt","Array","from","$b18fd23e9761f35d$var$animSearch","restart","to","scaleX","y","Sine","easeIn","rotationX","rotation","Power2","easeInOut","set","transformOrigin","marginRight","Power1","easeOut","className","$b18fd23e9761f35d$var$showTxt","addPause","onStart","disabled","$b18fd23e9761f35d$var$cloneLbl","createElement","appendChild","addEventListener","value","trim","isActive","play","timeScale","e","preventDefault","paused","blur","progress"],"version":3,"file":"index.e81ec821.js.map"}