{"mappings":"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","sources":["src/js/search.js"],"sourcesContent":["let search = document.querySelector('.search');\nlet searchInp = search.children[0];\nlet searchLbl = search.children[1];\nlet searchBtn = search.children[2];\nlet searchBrd = search.children[3];\nlet searchCls = search.children[4];\nlet searchTxt, clonedTxt, clonedLbl, clonedLblWrap, animating = false, busy = true;\nlet TLTxt = new TimelineLite();\nlet TLSrch = new TimelineLite({onReverseComplete: () => {\n  TLTxt.clear();\n  animating = false;\n}});\n\ncreateTxt('Search images...', searchLbl, 'search-text');\nsearchTxt = document.querySelectorAll('.search-text');\n\nsearchBtn.addEventListener('click', () => {\n  if (!animating) animSearch();\n});\n\nsearchBrd.addEventListener('click', () => {\n  if (!animating) animSearch();\n});\n\nsearchInp.addEventListener('focus', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.isActive() ? TLTxt.play() : TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035); \n});\n\nsearchInp.addEventListener('blur', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.reverse().timeScale(1.3);\n});\n\nsearch.addEventListener('submit', e => {\n  e.preventDefault();\n  busy = true;\n  TLTxt.paused() ? TLTxt.clear() : TLTxt.play();\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  }\n  else TLSrch.reverse();\n  searchInp.value = '';\n  searchInp.blur();\n});\n\nsearchCls.addEventListener('mousedown', e => {\n  e.preventDefault();\n});\n\nsearchCls.addEventListener('click', () => {\n  if (busy) return;\n  busy = true;\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  }\n  else {\n    TLTxt.isActive() ? TLTxt.play() : TLTxt.progress() == 1 ? TLTxt.clear() :\n      TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035);\n    TLSrch.reverse();\n  }\n  searchInp.value = '';\n  searchInp.blur();\n});\n\nfunction createTxt(text, elLbl, textClass) {\n  let splitText = [];\n  for (let i = text.length; i--;) {\n    splitText.unshift(`<span class='${textClass}'>${text[i]}</span>`);\n  }\n  elLbl.innerHTML = splitText.join('');\n};\n\nfunction createLblTxt(val) {\n  createTxt(val, clonedLbl, 'cloned-text');\n  clonedTxt = document.querySelectorAll('.cloned-text');\n  animClonedTxt(Array.from(clonedTxt).reverse());\n}\n\nfunction animSearch() {\n  animating = true;\n  TLSrch.restart()\n  .to(searchBrd, .4, {scaleX: 2, x: -25, y: -25, ease: Sine.easeIn})\n  .to(searchBtn, .4, {rotationX: 90, ease: Sine.easeIn}, '-=.4')\n  .to(searchBrd, .4, {rotation: 180, x: '-=6', y: '+=10', ease: Power2.easeInOut})\n  .set(searchBrd, {transformOrigin: '0', marginRight: '-38px'}) \n  .to(searchBrd, .6, {scaleX: 13, ease: Power1.easeOut})\n  .set(search, {className: '+=edge', onComplete: showTxt})\n  .to(searchInp, .6, {scaleX: 1, ease: Sine.easeInOut}, '-=.3')\n  .set(searchCls, {className: '+=visible'})\n  .addPause();\n}\n\nfunction showTxt() {\n  let tl = new TimelineLite({onStart: () => {searchInp.disabled = true}});\n  tl.staggerTo(searchTxt, .07, {opacity: 1}, .035);\n  setTimeout(() => {\n    searchInp.disabled = false;\n    busy = false;\n  }, 300)\n}\n\nfunction animClonedTxt(el) {\n  let scrollW = clonedLbl.scrollWidth;\n  let offsetW = scrollW - clonedLbl.offsetWidth;\n  let tl = new TimelineLite({onComplete: () => {clonedLblWrap.remove()}});\n  tl.staggerTo(el, .08, {opacity: 0}, .04);\n  let tlDur = tl.totalDuration();\n  let offsetTime = (offsetW * tlDur) / scrollW;\n  if (offsetW > 0) {\n    TweenLite.fromTo(clonedLbl, offsetTime, {x: -offsetW}, {x: 0, delay: .2, ease: SlowMo.ease.config(0.1, 0.1, false)});\n  };\n  setTimeout(() => {\n    TLSrch.reverse();\n  }, Math.max((tlDur - .35) * 1000, 0));\n}\n\nfunction cloneLbl() {\n  clonedLblWrap = document.createElement('div');\n  clonedLblWrap.className = 'search-label';\n  search.appendChild(clonedLblWrap);\n  clonedLbl = document.createElement('div');\n  clonedLblWrap.appendChild(clonedLbl);\n}; "],"names":["$d35904b1c7f1c41e$var$searchTxt","$d35904b1c7f1c41e$var$clonedTxt","$d35904b1c7f1c41e$var$clonedLbl","$d35904b1c7f1c41e$var$clonedLblWrap","$d35904b1c7f1c41e$var$search","document","querySelector","$d35904b1c7f1c41e$var$searchInp","children","$d35904b1c7f1c41e$var$searchLbl","$d35904b1c7f1c41e$var$searchBtn","$d35904b1c7f1c41e$var$searchBrd","$d35904b1c7f1c41e$var$searchCls","$d35904b1c7f1c41e$var$animating","$d35904b1c7f1c41e$var$busy","$d35904b1c7f1c41e$var$TLTxt","TimelineLite","$d35904b1c7f1c41e$var$TLSrch","onReverseComplete","clear","$d35904b1c7f1c41e$var$createTxt","text","elLbl","textClass","splitText","i","length","unshift","concat","innerHTML","join","$d35904b1c7f1c41e$var$createLblTxt","val","querySelectorAll","el","scrollW","scrollWidth","offsetW","offsetWidth","tl","onComplete","remove","staggerTo","opacity","tlDur","totalDuration","offsetTime","TweenLite","fromTo","x","delay","ease","SlowMo","config","setTimeout","reverse","Math","max","$d35904b1c7f1c41e$var$animClonedTxt","Array","from","$d35904b1c7f1c41e$var$animSearch","restart","to","scaleX","y","Sine","easeIn","rotationX","rotation","Power2","easeInOut","set","transformOrigin","marginRight","Power1","easeOut","className","$d35904b1c7f1c41e$var$showTxt","addPause","onStart","disabled","$d35904b1c7f1c41e$var$cloneLbl","createElement","appendChild","addEventListener","value","trim","isActive","play","timeScale","e","preventDefault","paused","blur","progress"],"version":3,"file":"index.60d76ac4.js.map"}