let e,t,a,n,i=document.querySelector(".search"),r=i.children[0],l=i.children[1],s=i.children[2],o=i.children[3],c=i.children[4],d=!1,u=!0,m=new TimelineLite,v=new TimelineLite({onReverseComplete:()=>{m.clear(),d=!1}});function h(e,t,a){let n=[];for(let t=e.length;t--;)n.unshift(`<span class='${a}'>${e[t]}</span>`);t.innerHTML=n.join("")}function p(e){h(e,a,"cloned-text"),t=document.querySelectorAll(".cloned-text"),function(e){let t=a.scrollWidth,i=t-a.offsetWidth,r=new TimelineLite({onComplete:()=>{n.remove()}});r.staggerTo(e,.08,{opacity:0},.04);let l=r.totalDuration(),s=i*l/t;i>0&&TweenLite.fromTo(a,s,{x:-i},{x:0,delay:.2,ease:SlowMo.ease.config(.1,.1,!1)});setTimeout((()=>{v.reverse()}),Math.max(1e3*(l-.35),0))}(Array.from(t).reverse())}function g(){d=!0,v.restart().to(o,.4,{scaleX:2,x:-25,y:-25,ease:Sine.easeIn}).to(s,.4,{rotationX:90,ease:Sine.easeIn},"-=.4").to(o,.4,{rotation:180,x:"-=6",y:"+=10",ease:Power2.easeInOut}).set(o,{transformOrigin:"0",marginRight:"-38px"}).to(o,.6,{scaleX:13,ease:Power1.easeOut}).set(i,{className:"+=edge",onComplete:f}).to(r,.6,{scaleX:1,ease:Sine.easeInOut},"-=.3").set(c,{className:"+=visible"}).addPause()}function f(){new TimelineLite({onStart:()=>{r.disabled=!0}}).staggerTo(e,.07,{opacity:1},.035),setTimeout((()=>{r.disabled=!1,u=!1}),300)}function y(){n=document.createElement("div"),n.className="search-label",i.appendChild(n),a=document.createElement("div"),n.appendChild(a)}h("Search images...",l,"search-text"),e=document.querySelectorAll(".search-text"),s.addEventListener("click",(()=>{d||g()})),o.addEventListener("click",(()=>{d||g()})),r.addEventListener("focus",(()=>{u||r.value.trim().length||(m.isActive()?m.play():m.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035))})),r.addEventListener("blur",(()=>{u||r.value.trim().length||m.reverse().timeScale(1.3)})),i.addEventListener("submit",(e=>{e.preventDefault(),u=!0,m.paused()?m.clear():m.play();let t=r.value.trim();r.disabled=!0,t.length?(y(),p(t)):v.reverse(),r.value="",r.blur()})),c.addEventListener("mousedown",(e=>{e.preventDefault()})),c.addEventListener("click",(()=>{if(u)return;u=!0;let t=r.value.trim();r.disabled=!0,t.length?(y(),p(t)):(m.isActive()?m.play():1==m.progress()?m.clear():m.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035),v.reverse()),r.value="",r.blur()}));
//# sourceMappingURL=index.e81ec821.js.map
