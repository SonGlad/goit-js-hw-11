{"mappings":"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","sources":["src/js/FormAnimationImport.js"],"sourcesContent":["// import {TweenMax, Power2, TimelineLite} from \"gsap\";\n\nlet search = document.querySelector('.search');\nlet searchInp = search.children[0];\nlet searchLbl = search.children[1];\nlet searchBtn = search.children[2];\nlet searchBrd = search.children[3];\nlet searchCls = search.children[4];\nlet searchTxt, clonedTxt, clonedLbl, clonedLblWrap, animating = false, busy = true;\nlet TLTxt = new TimelineLite();\nlet TLSrch = new TimelineLite({onReverseComplete: () => {\n  TLTxt.clear();\n  animating = false;\n}});\n\ncreateTxt('Search images...', searchLbl, 'search-text');\nsearchTxt = document.querySelectorAll('.search-text');\n\n\nsearchBtn.addEventListener('click', e => {\n  if (!animating) animSearch();\n});\n\nsearchBrd.addEventListener('click', e => {\n  if (!animating) animSearch();\n});\n\nsearchInp.addEventListener('focus', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.isActive() ? TLTxt.play() : TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035); \n});\n\nsearchInp.addEventListener('blur', () => {\n  if (busy || searchInp.value.trim().length) return;\n  TLTxt.reverse().timeScale(1.3);\n});\n\n// search.addEventListener('submit', e => {\n//   e.preventDefault();\n//   busy = true;\n//   TLTxt.paused() ? TLTxt.clear() : TLTxt.play();\n//   let val = searchInp.value.trim();\n//   searchInp.disabled = true;\n//   if (val.length) {\n//     cloneLbl();\n//     createLblTxt(val);\n//   }\n//   else TLSrch.reverse();\n//   searchInp.value = '';\n//   searchInp.blur();\n// });\n\nsearchCls.addEventListener('mousedown', e => {\n  e.preventDefault();\n});\n\nsearchCls.addEventListener('click', () => {\n  if (busy) return;\n  busy = true;\n  let val = searchInp.value.trim();\n  searchInp.disabled = true;\n  if (val.length) {\n    cloneLbl();\n    createLblTxt(val);\n  }\n  else {\n    TLTxt.isActive() ? TLTxt.play() : TLTxt.progress() == 1 ? TLTxt.clear() :\n      TLTxt.restart().timeScale(1).staggerTo(searchTxt, .07, {opacity: 0}, .035);\n    TLSrch.reverse();\n  }\n  searchInp.value = '';\n  searchInp.blur();\n});\n\nfunction createTxt(text, elLbl, textClass) {\n  let splitText = [];\n  for (let i = text.length; i--;) {\n    splitText.unshift(`<span class='${textClass}'>${text[i]}</span>`);\n  }\n  elLbl.innerHTML = splitText.join('');\n};\n\nfunction createLblTxt(val) {\n  createTxt(val, clonedLbl, 'cloned-text');\n  clonedTxt = document.querySelectorAll('.cloned-text');\n  animClonedTxt(Array.from(clonedTxt).reverse());\n}\n\nfunction animSearch() {\n  animating = true;\n  TLSrch.restart()\n  .to(searchBrd, .4, {scaleX: 2, x: -25, y: -25, ease: Sine.easeIn})\n  .to(searchBtn, .4, {rotationX: 90, ease: Sine.easeIn}, '-=.4')\n  .to(searchBrd, .4, {rotation: 180, x: '-=6', y: '+=10', ease: Power2.easeInOut})\n  .set(searchBrd, {transformOrigin: '0', marginRight: '-38px'}) \n  .to(searchBrd, .6, {scaleX: 13, ease: Power1.easeOut})\n  .set(search, {className: '+=edge', onComplete: showTxt})\n  .to(searchInp, .6, {scaleX: 1, ease: Sine.easeInOut}, '-=.3')\n  .set(searchCls, {className: '+=visible'})\n  .addPause();\n}\n\nfunction showTxt() {\n  let tl = new TimelineLite({onStart: () => {searchInp.disabled = true}});\n  tl.staggerTo(searchTxt, .07, {opacity: 1}, .035);\n  setTimeout(() => {\n    searchInp.disabled = false;\n    busy = false;\n  }, 300)\n}\n\nfunction animClonedTxt(el) {\n  let scrollW = clonedLbl.scrollWidth;\n  let offsetW = scrollW - clonedLbl.offsetWidth;\n  let tl = new TimelineLite({onComplete: () => {clonedLblWrap.remove()}});\n  tl.staggerTo(el, .08, {opacity: 0}, .04);\n  let tlDur = tl.totalDuration();\n  let offsetTime = (offsetW * tlDur) / scrollW;\n  if (offsetW > 0) {\n    TweenLite.fromTo(clonedLbl, offsetTime, {x: -offsetW}, {x: 0, delay: .2, ease: SlowMo.ease.config(0.1, 0.1, false)});\n  };\n  setTimeout(() => {\n    TLSrch.reverse();\n  }, Math.max((tlDur - .35) * 1000, 0));\n}\n\n// function cloneLbl() {\n//   clonedLblWrap = document.createElement('div');\n//   clonedLblWrap.className = 'search-label';\n//   search.appendChild(clonedLblWrap);\n//   clonedLbl = document.createElement('div');\n//   clonedLblWrap.appendChild(clonedLbl);\n// }; "],"names":["$c67b12280e440702$var$searchTxt","$c67b12280e440702$var$clonedTxt","$c67b12280e440702$var$search","document","querySelector","$c67b12280e440702$var$searchInp","children","$c67b12280e440702$var$searchLbl","$c67b12280e440702$var$searchBtn","$c67b12280e440702$var$searchBrd","$c67b12280e440702$var$searchCls","$c67b12280e440702$var$animating","$c67b12280e440702$var$busy","$c67b12280e440702$var$TLTxt","TimelineLite","$c67b12280e440702$var$TLSrch","onReverseComplete","clear","$c67b12280e440702$var$createTxt","text","elLbl","textClass","splitText","i","length","unshift","innerHTML","join","$c67b12280e440702$var$animSearch","restart","to","scaleX","x","y","ease","Sine","easeIn","rotationX","rotation","Power2","easeInOut","set","transformOrigin","marginRight","Power1","easeOut","className","onComplete","$c67b12280e440702$var$showTxt","addPause","onStart","disabled","staggerTo","opacity","setTimeout","querySelectorAll","addEventListener","e","value","trim","isActive","play","timeScale","reverse","preventDefault","val","cloneLbl","$c67b12280e440702$var$clonedLbl","el","scrollW","scrollWidth","offsetW","offsetWidth","tl","$c67b12280e440702$var$clonedLblWrap","remove","tlDur","totalDuration","offsetTime","TweenLite","fromTo","delay","SlowMo","config","Math","max","$c67b12280e440702$var$animClonedTxt","Array","from","$c67b12280e440702$var$createLblTxt","progress","blur"],"version":3,"file":"index.1ba86d41.js.map"}