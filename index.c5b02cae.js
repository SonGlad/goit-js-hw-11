let e,t,a,n,r=document.querySelector(".search"),i=r.children[0],l=r.children[1],s=r.children[2],o=r.children[3],c=r.children[4],d=!1,u=!0,m=new TimelineLite,v=new TimelineLite({onReverseComplete:()=>{m.clear(),d=!1}});function p(e,t,a){let n=[];for(let t=e.length;t--;)n.unshift(`<span class='${a}'>${e[t]}</span>`);t.innerHTML=n.join("")}function f(e){p(e,a,"cloned-text"),t=document.querySelectorAll(".cloned-text"),function(e){let t=a.scrollWidth,r=t-a.offsetWidth,i=new TimelineLite({onComplete:()=>{n.remove()}});i.staggerTo(e,.08,{opacity:0},.04);let l=i.totalDuration(),s=r*l/t;r>0&&TweenLite.fromTo(a,s,{x:-r},{x:0,delay:.2,ease:SlowMo.ease.config(.1,.1,!1)});setTimeout((()=>{v.reverse()}),Math.max(1e3*(l-.35),0))}(Array.from(t).reverse())}function h(){d=!0,v.restart().to(o,.4,{scaleX:2,x:-25,y:-25,ease:Sine.easeIn}).to(s,.4,{rotationX:90,ease:Sine.easeIn},"-=.4").to(o,.4,{rotation:180,x:"-=6",y:"+=10",ease:Power2.easeInOut}).set(o,{transformOrigin:"0",marginRight:"-38px"}).to(o,.6,{scaleX:13,ease:Power1.easeOut}).set(r,{className:"+=edge",onComplete:g}).to(i,.6,{scaleX:1,ease:Sine.easeInOut},"-=.3").set(c,{className:"+=visible"}).addPause()}function g(){new TimelineLite({onStart:()=>{i.disabled=!0}}).staggerTo(e,.07,{opacity:1},.035),setTimeout((()=>{i.disabled=!1,u=!1}),300)}function y(){n=document.createElement("div"),n.className="search-label",r.appendChild(n),a=document.createElement("div"),n.appendChild(a)}p("Search images...",l,"search-text"),e=document.querySelectorAll(".search-text"),r.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),i.focus(),d||h()})),s.addEventListener("click",(e=>{e.preventDefault(),d||h()})),o.addEventListener("click",(e=>{e.preventDefault(),d||h()})),i.addEventListener("focus",(()=>{u||i.value.trim().length||(m.isActive()?m.play():m.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035))})),i.addEventListener("blur",(()=>{u||i.value.trim().length||m.reverse().timeScale(1.3)})),r.addEventListener("submit",(e=>{e.preventDefault(),u=!0,m.paused()?m.clear():m.play();let t=i.value.trim();i.disabled=!0,t.length?(y(),f(t)):v.reverse(),i.value="",i.blur()})),c.addEventListener("mousedown",(e=>{e.preventDefault()})),c.addEventListener("click",(()=>{if(u)return;u=!0;let t=i.value.trim();i.disabled=!0,t.length?(y(),f(t)):(m.isActive()?m.play():1==m.progress()?m.clear():m.restart().timeScale(1).staggerTo(e,.07,{opacity:0},.035),v.reverse()),i.value="",i.blur()}));
//# sourceMappingURL=index.c5b02cae.js.map
